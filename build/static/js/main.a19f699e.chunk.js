(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),i=a.n(o),s=(a(15),a(1)),c=a.n(s),p=a(6),u=a(2),l=a(3),h=a(4),m=a(5);function d(e){return 1.8*e-459.67}function f(e){return e-273.15}var w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"weatherDisplay"},n.a.createElement("div",{className:"wDHeader"},n.a.createElement("h2",null,this.props.weatherData.name," Weather"),n.a.createElement("div",{className:"tempBtnContainer"},n.a.createElement("button",{value:"C",className:"C"===this.props.tempMode?"tempBtn tempBtnActive":"tempBtn",onClick:function(){return e.props.updateTempMode("C")}},"\xb0C"),n.a.createElement("button",{value:"F",className:"F"===this.props.tempMode?"tempBtn tempBtnActive":"tempBtn",onClick:function(){return e.props.updateTempMode("F")}},"\xb0F"))),n.a.createElement("h3",{style:{textTransform:"capitalize"}},this.props.weatherData.weather[0].description),n.a.createElement("h3",null,"Temperature:"," ","F"===this.props.tempMode?d(this.props.weatherData.main.temp).toFixed(1)+"\xb0F":f(this.props.weatherData.main.temp).toFixed(1)+"\xb0C"),n.a.createElement("h3",null,"Range:"," ","F"===this.props.tempMode?d(this.props.weatherData.main.temp_min).toFixed(1)+"\xb0F":f(this.props.weatherData.main.temp_min).toFixed(1)+"\xb0C"," ","-"," ","F"===this.props.tempMode?d(this.props.weatherData.main.temp_max).toFixed(1)+"\xb0F":f(this.props.weatherData.main.temp_max).toFixed(1)+"\xb0C"),n.a.createElement("h3",null,"Humidity: ",this.props.weatherData.main.humidity,"%"),n.a.createElement("h3",null,"Pressure: ",this.props.weatherData.main.pressure,"kPa"),n.a.createElement("img",{className:"weatherGIF",src:this.props.weatherGif,alt:"GIF of current weather"}))}}]),a}(n.a.Component),v=a(9);var E=function(e){var t=Object(r.useState)(""),a=Object(v.a)(t,2),o=a[0],i=a[1];return n.a.createElement("nav",{className:"topNav"},n.a.createElement("h1",null,"Weather Pro Version 1997 v1.3"),n.a.createElement("form",null,n.a.createElement("input",{type:"text",name:"weather",id:"weather",value:o,placeholder:"Please type a city",onChange:function(e){return i(e.target.value)}}),n.a.createElement("button",{type:"submit",onClick:function(t){e.getCompleteWeather(o),t.preventDefault()}},"Get Weather")))};var g=function(e){return n.a.createElement("div",{className:"errorMessageContainer"},n.a.createElement("div",null,n.a.createElement("h2",null,"Error"),n.a.createElement("button",null,":(")),n.a.createElement("h3",null,"There was an error fetching that city, please try typing it in correctly"),n.a.createElement("img",{src:"https://media.giphy.com/media/mq5y2jHRCAqMo/giphy.gif",alt:"GIF of tiled error messages"}))},b=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).getWeather=function(){var e=Object(p.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=a3e0ba4476d1096ca94921c3346150b9"),{mode:"cors"});case 2:if(a=e.sent,console.log(a),a.ok){e.next=8;break}return r.updateWeatherError(!0),r.updateWeatherData(null),e.abrupt("return","error");case 8:return r.updateWeatherError(!1),e.next=11,a.json();case 11:return n=e.sent,r.updateWeatherData(n),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getWeatherGif=function(){var e=Object(p.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.giphy.com/v1/gifs/translate?api_key=AEepGv1Y4EwvuicBz5PnylRLHRS5Xruc&s=".concat(t),{mode:"cors"});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n.data.images.original.url),r.updateWeatherGif(n.data.images.original.url);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCompleteWeather=function(){var e=Object(p.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getWeather(t);case 2:if("error"!==(a=e.sent)){e.next=5;break}return e.abrupt("return");case 5:r.getWeatherGif(a.weather[0].main);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.updateWeatherError=function(e){r.setState({weatherError:e})},r.updateWeatherData=function(e){r.setState({weatherData:e})},r.updateWeatherGif=function(e){r.setState({weatherGif:e})},r.updateTempMode=function(e){r.setState({tempMode:e})},r.state={tempMode:"F"},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getCompleteWeather("lacaster")}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(E,{getCompleteWeather:this.getCompleteWeather}),this.state.weatherError?n.a.createElement(g,null):null,this.state.weatherData?n.a.createElement(w,{weatherData:this.state.weatherData,tempMode:this.state.tempMode,weatherGif:this.state.weatherGif,updateTempMode:this.updateTempMode}):null)}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.a19f699e.chunk.js.map